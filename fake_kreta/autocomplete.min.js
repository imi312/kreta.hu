const placeholder=`
<li>
    <a class="placeholder-wave dropdown-item">
        <span class="col-2 placeholder"></span>
        <span class="col-4 placeholder"></span>
        <span class="col-3 placeholder"></span>
        <span class="col-2 placeholder"></span>
    </a>
</li>
<li>
    <a class="placeholder-wave dropdown-item">
        <span class="col-3 placeholder"></span>
        <span class="col-3 placeholder"></span>
        <span class="col-2 placeholder"></span>
        <span class="col-3 placeholder"></span>
    </a>
</li>
<li>
    <a class="placeholder-wave dropdown-item">
        <span class="col-2 placeholder"></span>
        <span class="col-4 placeholder"></span>
        <span class="col-3 placeholder"></span>
        <span class="col-2 placeholder"></span>
    </a>
</li>`,empty='<li><a class="dropdown-item disabled">Nem található ilyen elem.</a></li>',autocomplete=$(".autocomplete");let tasks={},chars={};function callAjax(e,a,l,t){$.ajax({url:a,beforeSend:function(){l.empty(),l.append(placeholder),t.dropdown("show")},success:function(a){l.empty(),""===a.trim()?l.append(empty):l.append(a),tasks[e]=void 0},error:function(a){console.log(a)}})}autocomplete.on("keydown",function(a){const e=$(this).parent();var l=e.attr("id");chars[l]=a.key}),autocomplete.on("input",function(){var a=$(this).val();if(!(a.length<3)){const e=$(this).parent(),l=e.children(".autocomplete-value"),t=e.children(".dropdown-menu"),o=e.attr("id");if(e.attr("value-selected"))return e.removeAttr("value-selected"),$(this).val(chars[o]),l.val(void 0),void t.empty();l.val(a);const s=e.attr("data-url").replace("{0}",a);void 0!==tasks[o]&&clearTimeout(tasks[o]),tasks[o]=setTimeout(()=>callAjax(o,s,t,$(this)),350)}}),$(".dropdown-menu").on("click","li a.dropdown-item",function(){const a=$(this).parent().parent().parent();var e=$(this).attr("data-val"),l=$(this).text();if(e){const t=a.children(".autocomplete");a.children(".autocomplete-value").val(e),a.attr("value-selected",!0),t.val(l),t.dropdown("hide"),a.trigger("autocomplete-select")}}),$(document).on("click.bs.dropdown.data-api",".disabled",function(a){a.stopPropagation()}),$("#institute-selector-institute-autocomplete").on("autocomplete-select",function(){$("#redirectToInstitute").removeAttr("disabled")});